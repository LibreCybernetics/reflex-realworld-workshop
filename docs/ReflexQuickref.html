<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Workshop Docs</title>
  <style>
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <style>
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="./github-pandoc.css" />
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<h1 id="reflex-quickish-reference">Reflex Quick(ish) Reference</h1>
<h2 id="typeclasses">Typeclasses</h2>
<p>Many Reflex functions operate in monadic context <code>m a</code>, where the monad 'm' supports various additional typeclasses such as MonadWidget, MonadHold, or MonadSample in addition to Monad itself. The actual 'm' in use will be determined by the top-level entry point of the FRP host (such as Reflex-Dom -- see the bottom of the Reflex-Dom quick reference for details).</p>
<p>The function signatures here have been simplified by removing many typeclass constraints and adding simple annotations to each function. Also the ubiquitous 't' type parameter has been removed.</p>
<p>Some of these functions are <em>pure</em>: They operate on Events, Behaviors, or Dynamics uniformly without regard to the "current time". Other functions must operate in some monadic context, because they produce a result "as of now" (e.g., any function that takes an "initial" value, or returns a "current" value). Annotations are used to distinguish these cases:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb1-1" title="1">[ ]   <span class="co">-- Pure function</span></a>
<a class="sourceLine" id="cb1-2" title="2">[<span class="dt">S</span>]   <span class="co">-- Function runs in any monad supporting MonadSample</span></a>
<a class="sourceLine" id="cb1-3" title="3">[<span class="dt">H</span>]   <span class="co">-- Function runs in any monad supporting MonadHold</span></a></code></pre></div>
<p>Since MonadHold depends on MonadSample, any [S] function also runs in [H] context.</p>
<h2 id="functions-producing-event">Functions producing Event</h2>
<div class="sourceCode" id="cb2"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb2-1" title="1"><span class="co">-- Trivial Event</span></a>
<a class="sourceLine" id="cb2-2" title="2">[ ]<span class="ot">   never   ::</span>              <span class="dt">Event</span> a</a>
<a class="sourceLine" id="cb2-3" title="3"></a>
<a class="sourceLine" id="cb2-4" title="4"><span class="co">-- Extract Event from Dynamic</span></a>
<a class="sourceLine" id="cb2-5" title="5">[ ]<span class="ot">   updated ::</span> <span class="dt">Dynamic</span> a <span class="ot">-&gt;</span> <span class="dt">Event</span> a</a>
<a class="sourceLine" id="cb2-6" title="6"></a>
<a class="sourceLine" id="cb2-7" title="7"><span class="co">-- Transform Event to Event using function</span></a>
<a class="sourceLine" id="cb2-8" title="8">[ ]<span class="ot">   fmap      ::</span> (a <span class="ot">-&gt;</span>       b) <span class="ot">-&gt;</span>        <span class="dt">Event</span> a <span class="ot">-&gt;</span> <span class="dt">Event</span> b</a>
<a class="sourceLine" id="cb2-9" title="9">[ ]<span class="ot">   fmapMaybe ::</span> (a <span class="ot">-&gt;</span> <span class="dt">Maybe</span> b) <span class="ot">-&gt;</span>        <span class="dt">Event</span> a <span class="ot">-&gt;</span> <span class="dt">Event</span> b</a>
<a class="sourceLine" id="cb2-10" title="10">[ ]<span class="ot">   ffilter   ::</span> (a <span class="ot">-&gt;</span>    <span class="dt">Bool</span>) <span class="ot">-&gt;</span>        <span class="dt">Event</span> a <span class="ot">-&gt;</span> <span class="dt">Event</span> a</a>
<a class="sourceLine" id="cb2-11" title="11">[ ]<span class="ot">   ffor      ::</span>        <span class="dt">Event</span> a <span class="ot">-&gt;</span> (a <span class="ot">-&gt;</span>       b) <span class="ot">-&gt;</span> <span class="dt">Event</span> b</a>
<a class="sourceLine" id="cb2-12" title="12">[ ]<span class="ot">   fforMaybe ::</span>        <span class="dt">Event</span> a <span class="ot">-&gt;</span> (a <span class="ot">-&gt;</span> <span class="dt">Maybe</span> b) <span class="ot">-&gt;</span> <span class="dt">Event</span> b</a>
<a class="sourceLine" id="cb2-13" title="13">[ ]   <span class="op">&lt;$</span><span class="ot">        ::</span>              a <span class="ot">-&gt;</span>        <span class="dt">Event</span> b <span class="ot">-&gt;</span> <span class="dt">Event</span> a</a>
<a class="sourceLine" id="cb2-14" title="14"></a>
<a class="sourceLine" id="cb2-15" title="15"><span class="co">-- Event to identical Event with debug trace.  (Only prints if Event is ultimately used.)</span></a>
<a class="sourceLine" id="cb2-16" title="16">[ ]<span class="ot">   traceEvent     ::</span> <span class="dt">Show</span> a <span class="ot">=&gt;</span> <span class="dt">String</span> <span class="ot">-&gt;</span> <span class="dt">Event</span> a <span class="ot">-&gt;</span> <span class="dt">Event</span> a</a>
<a class="sourceLine" id="cb2-17" title="17">[ ]<span class="ot">   traceEventWith ::</span>    (a <span class="ot">-&gt;</span> <span class="dt">String</span>) <span class="ot">-&gt;</span> <span class="dt">Event</span> a <span class="ot">-&gt;</span> <span class="dt">Event</span> a</a>
<a class="sourceLine" id="cb2-18" title="18"></a>
<a class="sourceLine" id="cb2-19" title="19"><span class="co">-- Transform Event to Event by sampling Behavior or Dynamic</span></a>
<a class="sourceLine" id="cb2-20" title="20">[ ]<span class="ot">   gate                       ::</span>                     <span class="dt">Behavior</span> <span class="dt">Bool</span> <span class="ot">-&gt;</span> <span class="dt">Event</span> a <span class="ot">-&gt;</span> <span class="dt">Event</span> a</a>
<a class="sourceLine" id="cb2-21" title="21">[ ]<span class="ot">   tag                        ::</span>                        <span class="dt">Behavior</span> a <span class="ot">-&gt;</span> <span class="dt">Event</span> b <span class="ot">-&gt;</span> <span class="dt">Event</span> a</a>
<a class="sourceLine" id="cb2-22" title="22">[ ]<span class="ot">   tagPromptlyDyn             ::</span>                         <span class="dt">Dynamic</span> a <span class="ot">-&gt;</span> <span class="dt">Event</span> b <span class="ot">-&gt;</span> <span class="dt">Event</span> a</a>
<a class="sourceLine" id="cb2-23" title="23">[ ]<span class="ot">   attach                     ::</span>                        <span class="dt">Behavior</span> a <span class="ot">-&gt;</span> <span class="dt">Event</span> b <span class="ot">-&gt;</span> <span class="dt">Event</span> (a, b)</a>
<a class="sourceLine" id="cb2-24" title="24">[ ]<span class="ot">   attachPromptlyDyn          ::</span>                         <span class="dt">Dynamic</span> a <span class="ot">-&gt;</span> <span class="dt">Event</span> b <span class="ot">-&gt;</span> <span class="dt">Event</span> (a, b)</a>
<a class="sourceLine" id="cb2-25" title="25">[ ]<span class="ot">   attachWith                 ::</span> (a <span class="ot">-&gt;</span> b <span class="ot">-&gt;</span>       c) <span class="ot">-&gt;</span> <span class="dt">Behavior</span> a <span class="ot">-&gt;</span> <span class="dt">Event</span> b <span class="ot">-&gt;</span> <span class="dt">Event</span> c</a>
<a class="sourceLine" id="cb2-26" title="26">[ ]<span class="ot">   attachPromptlyDynWith      ::</span> (a <span class="ot">-&gt;</span> b <span class="ot">-&gt;</span>       c) <span class="ot">-&gt;</span>  <span class="dt">Dynamic</span> a <span class="ot">-&gt;</span> <span class="dt">Event</span> b <span class="ot">-&gt;</span> <span class="dt">Event</span> c</a>
<a class="sourceLine" id="cb2-27" title="27">[ ]<span class="ot">   attachWithMaybe            ::</span> (a <span class="ot">-&gt;</span> b <span class="ot">-&gt;</span> <span class="dt">Maybe</span> c) <span class="ot">-&gt;</span> <span class="dt">Behavior</span> a <span class="ot">-&gt;</span> <span class="dt">Event</span> b <span class="ot">-&gt;</span> <span class="dt">Event</span> c</a>
<a class="sourceLine" id="cb2-28" title="28">[ ]<span class="ot">   attachPromptlyDynWithMaybe ::</span> (a <span class="ot">-&gt;</span> b <span class="ot">-&gt;</span> <span class="dt">Maybe</span> c) <span class="ot">-&gt;</span>  <span class="dt">Dynamic</span> a <span class="ot">-&gt;</span> <span class="dt">Event</span> b <span class="ot">-&gt;</span> <span class="dt">Event</span> c</a>
<a class="sourceLine" id="cb2-29" title="29">[ ]   <span class="op">&lt;@&gt;</span><span class="ot">                        ::</span>                 <span class="dt">Behavior</span> (a <span class="ot">-&gt;</span> b) <span class="ot">-&gt;</span> <span class="dt">Event</span> a <span class="ot">-&gt;</span> <span class="dt">Event</span> b</a>
<a class="sourceLine" id="cb2-30" title="30">[ ]   <span class="op">&lt;@</span><span class="ot">                         ::</span>                        <span class="dt">Behavior</span> a <span class="ot">-&gt;</span> <span class="dt">Event</span> b <span class="ot">-&gt;</span> <span class="dt">Event</span> a</a>
<a class="sourceLine" id="cb2-31" title="31"></a>
<a class="sourceLine" id="cb2-32" title="32"><span class="co">-- Combine multiple Events</span></a>
<a class="sourceLine" id="cb2-33" title="33">[ ]   <span class="op">&lt;&gt;</span><span class="ot">         ::</span>      <span class="dt">Semigroup</span> a <span class="ot">=&gt;</span> <span class="dt">Event</span> a <span class="ot">-&gt;</span> <span class="dt">Event</span> a <span class="ot">-&gt;</span> <span class="dt">Event</span> a</a>
<a class="sourceLine" id="cb2-34" title="34">[ ]<span class="ot">   difference ::</span>                     <span class="dt">Event</span> a <span class="ot">-&gt;</span> <span class="dt">Event</span> b <span class="ot">-&gt;</span> <span class="dt">Event</span> a</a>
<a class="sourceLine" id="cb2-35" title="35">[ ]<span class="ot">   align      ::</span>                     <span class="dt">Event</span> a <span class="ot">-&gt;</span> <span class="dt">Event</span> b <span class="ot">-&gt;</span> <span class="dt">Event</span> (<span class="dt">These</span> a b)</a>
<a class="sourceLine" id="cb2-36" title="36">[ ]<span class="ot">   alignWith  ::</span> (<span class="dt">These</span> a b <span class="ot">-&gt;</span> c) <span class="ot">-&gt;</span> <span class="dt">Event</span> a <span class="ot">-&gt;</span> <span class="dt">Event</span> b <span class="ot">-&gt;</span> <span class="dt">Event</span> c</a>
<a class="sourceLine" id="cb2-37" title="37">[ ]<span class="ot">   mergeWith  ::</span> (a <span class="ot">-&gt;</span> a <span class="ot">-&gt;</span> a) <span class="ot">-&gt;</span> [<span class="dt">Event</span> a] <span class="ot">-&gt;</span> <span class="dt">Event</span> a</a>
<a class="sourceLine" id="cb2-38" title="38">[ ]<span class="ot">   leftmost   ::</span> [<span class="dt">Event</span> a] <span class="ot">-&gt;</span> <span class="dt">Event</span> a</a>
<a class="sourceLine" id="cb2-39" title="39">[ ]<span class="ot">   mergeList  ::</span> [<span class="dt">Event</span> a] <span class="ot">-&gt;</span> <span class="dt">Event</span> (<span class="dt">NonEmpty</span> a)</a>
<a class="sourceLine" id="cb2-40" title="40">[ ]<span class="ot">   merge      ::</span> <span class="dt">GCompare</span> k <span class="ot">=&gt;</span> <span class="dt">DMap</span> k <span class="dt">Event</span> <span class="ot">-&gt;</span> <span class="dt">Event</span> (<span class="dt">DMap</span> k <span class="dt">Identity</span>)</a>
<a class="sourceLine" id="cb2-41" title="41">[ ]<span class="ot">   mergeMap   ::</span> <span class="dt">Ord</span> k <span class="ot">=&gt;</span> <span class="dt">Map</span> k (<span class="dt">Event</span> a) <span class="ot">-&gt;</span> <span class="dt">Event</span> (<span class="dt">Map</span> k a)</a>
<a class="sourceLine" id="cb2-42" title="42"></a>
<a class="sourceLine" id="cb2-43" title="43"><span class="co">-- Efficient one-to-many fanout</span></a>
<a class="sourceLine" id="cb2-44" title="44">[ ]<span class="ot">   fanMap    ::</span> <span class="dt">Ord</span> k      <span class="ot">=&gt;</span> <span class="dt">Event</span> (<span class="dt">Map</span> k a)         <span class="ot">-&gt;</span> <span class="dt">EventSelector</span> (<span class="dt">Const2</span> k a)</a>
<a class="sourceLine" id="cb2-45" title="45">[ ]<span class="ot">   fan       ::</span> <span class="dt">GCompare</span> k <span class="ot">=&gt;</span> <span class="dt">Event</span> (<span class="dt">DMap</span> k <span class="dt">Identity</span>) <span class="ot">-&gt;</span> <span class="dt">EventSelector</span> k</a>
<a class="sourceLine" id="cb2-46" title="46">[ ]<span class="ot">   select    ::</span>                                          <span class="dt">EventSelector</span> k <span class="ot">-&gt;</span> k a <span class="ot">-&gt;</span> <span class="dt">Event</span> a</a>
<a class="sourceLine" id="cb2-47" title="47">[ ]<span class="ot">   fanEither ::</span> <span class="dt">Event</span> (<span class="dt">Either</span> a b) <span class="ot">-&gt;</span> (<span class="dt">Event</span> a, <span class="dt">Event</span> b)</a>
<a class="sourceLine" id="cb2-48" title="48">[ ]<span class="ot">   fanThese  ::</span> <span class="dt">Event</span> (<span class="dt">These</span> a b)  <span class="ot">-&gt;</span> (<span class="dt">Event</span> a, <span class="dt">Event</span> b)</a>
<a class="sourceLine" id="cb2-49" title="49"></a>
<a class="sourceLine" id="cb2-50" title="50"><span class="co">-- Event to Event via function that can sample current values</span></a>
<a class="sourceLine" id="cb2-51" title="51">[ ]<span class="ot">   push       ::</span> (a <span class="ot">-&gt;</span> m (<span class="dt">Maybe</span> b)) <span class="ot">-&gt;</span> <span class="dt">Event</span> a <span class="ot">-&gt;</span> <span class="dt">Event</span> b</a>
<a class="sourceLine" id="cb2-52" title="52">[ ]<span class="ot">   pushAlways ::</span> (a <span class="ot">-&gt;</span> m        b ) <span class="ot">-&gt;</span> <span class="dt">Event</span> a <span class="ot">-&gt;</span> <span class="dt">Event</span> b</a>
<a class="sourceLine" id="cb2-53" title="53">      <span class="co">-- Note supplied function operates in [H] context</span></a>
<a class="sourceLine" id="cb2-54" title="54"></a>
<a class="sourceLine" id="cb2-55" title="55"><span class="co">-- Split Event into next occurrence and all other future occurrences, as of now.</span></a>
<a class="sourceLine" id="cb2-56" title="56">[<span class="dt">H</span>]<span class="ot">   headE     ::</span> <span class="dt">Event</span> a <span class="ot">-&gt;</span> m (<span class="dt">Event</span> a)</a>
<a class="sourceLine" id="cb2-57" title="57">[<span class="dt">H</span>]<span class="ot">   tailE     ::</span> <span class="dt">Event</span> a <span class="ot">-&gt;</span> m (<span class="dt">Event</span> a)</a>
<a class="sourceLine" id="cb2-58" title="58">[<span class="dt">H</span>]<span class="ot">   headTailE ::</span> <span class="dt">Event</span> a <span class="ot">-&gt;</span> m (<span class="dt">Event</span> a, <span class="dt">Event</span> a)</a></code></pre></div>
<h2 id="functions-producing-behavior">Functions producing Behavior</h2>
<div class="sourceCode" id="cb3"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb3-1" title="1"><span class="co">-- Trivial Behavior</span></a>
<a class="sourceLine" id="cb3-2" title="2">[ ]<span class="ot">   constant ::</span>              a <span class="ot">-&gt;</span>    <span class="dt">Behavior</span> a</a>
<a class="sourceLine" id="cb3-3" title="3"></a>
<a class="sourceLine" id="cb3-4" title="4"><span class="co">-- Extract Behavior from Dynamic</span></a>
<a class="sourceLine" id="cb3-5" title="5">[ ]<span class="ot">   current  ::</span>      <span class="dt">Dynamic</span> a <span class="ot">-&gt;</span>    <span class="dt">Behavior</span> a</a>
<a class="sourceLine" id="cb3-6" title="6"></a>
<a class="sourceLine" id="cb3-7" title="7"><span class="co">-- Create Behavior with given initial value, updated when the Event fires.</span></a>
<a class="sourceLine" id="cb3-8" title="8">[<span class="dt">H</span>]<span class="ot">   hold     ::</span> a <span class="ot">-&gt;</span>   <span class="dt">Event</span> a <span class="ot">-&gt;</span> m (<span class="dt">Behavior</span> a)</a>
<a class="sourceLine" id="cb3-9" title="9"></a>
<a class="sourceLine" id="cb3-10" title="10"><span class="co">-- Transform Behavior to Behavior using function</span></a>
<a class="sourceLine" id="cb3-11" title="11">[ ]<span class="ot">   fmap ::</span>               (a <span class="ot">-&gt;</span> b) <span class="ot">-&gt;</span>        <span class="dt">Behavior</span> a <span class="ot">-&gt;</span> <span class="dt">Behavior</span> b</a>
<a class="sourceLine" id="cb3-12" title="12">[ ]<span class="ot">   ffor ::</span>             <span class="dt">Behavior</span> a <span class="ot">-&gt;</span>          (a <span class="ot">-&gt;</span> b) <span class="ot">-&gt;</span> <span class="dt">Behavior</span> b</a>
<a class="sourceLine" id="cb3-13" title="13">[ ]   <span class="op">&lt;*&gt;</span><span class="ot">  ::</span>      <span class="dt">Behavior</span> (a <span class="ot">-&gt;</span> b) <span class="ot">-&gt;</span>        <span class="dt">Behavior</span> a <span class="ot">-&gt;</span> <span class="dt">Behavior</span> b</a>
<a class="sourceLine" id="cb3-14" title="14">[ ]   <span class="op">&gt;&gt;=</span><span class="ot">  ::</span>             <span class="dt">Behavior</span> a <span class="ot">-&gt;</span> (a <span class="ot">-&gt;</span> <span class="dt">Behavior</span> b) <span class="ot">-&gt;</span> <span class="dt">Behavior</span> b</a>
<a class="sourceLine" id="cb3-15" title="15">[ ]   <span class="op">&lt;&gt;</span><span class="ot">   ::</span> <span class="dt">Monoid</span> a <span class="ot">=&gt;</span> <span class="dt">Behavior</span> a <span class="ot">-&gt;</span>        <span class="dt">Behavior</span> a <span class="ot">-&gt;</span> <span class="dt">Behavior</span> a</a>
<a class="sourceLine" id="cb3-16" title="16"><span class="co">-- ... plus many more due to typeclass membership</span></a>
<a class="sourceLine" id="cb3-17" title="17"></a>
<a class="sourceLine" id="cb3-18" title="18"><span class="co">-- Combine multiple behaviors via applicative instance</span></a>
<a class="sourceLine" id="cb3-19" title="19">[ ]<span class="ot">   ffor2 ::</span> <span class="dt">Behavior</span> a <span class="ot">-&gt;</span> <span class="dt">Behavior</span> b <span class="ot">-&gt;</span>               (a <span class="ot">-&gt;</span> b <span class="ot">-&gt;</span> c)      <span class="ot">-&gt;</span> <span class="dt">Behavior</span> c</a>
<a class="sourceLine" id="cb3-20" title="20">[ ]<span class="ot">   ffor3 ::</span> <span class="dt">Behavior</span> a <span class="ot">-&gt;</span> <span class="dt">Behavior</span> b <span class="ot">-&gt;</span> <span class="dt">Behavior</span> c <span class="ot">-&gt;</span> (a <span class="ot">-&gt;</span> b <span class="ot">-&gt;</span> c <span class="ot">-&gt;</span> d) <span class="ot">-&gt;</span> <span class="dt">Behavior</span> d</a>
<a class="sourceLine" id="cb3-21" title="21"></a>
<a class="sourceLine" id="cb3-22" title="22"><span class="co">-- Behavior to Behavior by sampling current values</span></a>
<a class="sourceLine" id="cb3-23" title="23">[<span class="dt">S</span>]<span class="ot">   sample ::</span> <span class="dt">Behavior</span> a <span class="ot">-&gt;</span> m a</a>
<a class="sourceLine" id="cb3-24" title="24">[ ]<span class="ot">   pull   ::</span>               m a <span class="ot">-&gt;</span> <span class="dt">Behavior</span> a</a>
<a class="sourceLine" id="cb3-25" title="25">      <span class="co">-- Note supplied value is in [S] context</span></a></code></pre></div>
<h2 id="functions-producing-dynamic">Functions producing Dynamic</h2>
<div class="sourceCode" id="cb4"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb4-1" title="1"><span class="co">-- Trivial Dynamic</span></a>
<a class="sourceLine" id="cb4-2" title="2">[ ]<span class="ot">   constDyn ::</span>                                  a            <span class="ot">-&gt;</span>    <span class="dt">Dynamic</span> a</a>
<a class="sourceLine" id="cb4-3" title="3"></a>
<a class="sourceLine" id="cb4-4" title="4"><span class="co">-- Create Dynamic with given initial value, updated (various ways) when the Event fires.</span></a>
<a class="sourceLine" id="cb4-5" title="5">[<span class="dt">H</span>]<span class="ot">   holdDyn       ::</span>                             a <span class="ot">-&gt;</span> <span class="dt">Event</span> a <span class="ot">-&gt;</span> m (<span class="dt">Dynamic</span> a)</a>
<a class="sourceLine" id="cb4-6" title="6">[<span class="dt">H</span>]<span class="ot">   foldDyn       ::</span> (a <span class="ot">-&gt;</span> b <span class="ot">-&gt;</span>           b ) <span class="ot">-&gt;</span> b <span class="ot">-&gt;</span> <span class="dt">Event</span> a <span class="ot">-&gt;</span> m (<span class="dt">Dynamic</span> b)</a>
<a class="sourceLine" id="cb4-7" title="7">[<span class="dt">H</span>]<span class="ot">   foldDynMaybe  ::</span> (a <span class="ot">-&gt;</span> b <span class="ot">-&gt;</span>     <span class="dt">Maybe</span> b ) <span class="ot">-&gt;</span> b <span class="ot">-&gt;</span> <span class="dt">Event</span> a <span class="ot">-&gt;</span> m (<span class="dt">Dynamic</span> b)</a>
<a class="sourceLine" id="cb4-8" title="8">[<span class="dt">H</span>]<span class="ot">   foldDynM      ::</span> (a <span class="ot">-&gt;</span> b <span class="ot">-&gt;</span> m&#39;        b ) <span class="ot">-&gt;</span> b <span class="ot">-&gt;</span> <span class="dt">Event</span> a <span class="ot">-&gt;</span> m (<span class="dt">Dynamic</span> b)</a>
<a class="sourceLine" id="cb4-9" title="9">[<span class="dt">H</span>]<span class="ot">   foldDynMaybeM ::</span> (a <span class="ot">-&gt;</span> b <span class="ot">-&gt;</span> m&#39; (<span class="dt">Maybe</span> b)) <span class="ot">-&gt;</span> b <span class="ot">-&gt;</span> <span class="dt">Event</span> a <span class="ot">-&gt;</span> m (<span class="dt">Dynamic</span> b)</a>
<a class="sourceLine" id="cb4-10" title="10">      <span class="co">-- Note m&#39; supplies [H] context</span></a>
<a class="sourceLine" id="cb4-11" title="11"></a>
<a class="sourceLine" id="cb4-12" title="12"><span class="co">-- Initial value is 0; counts Event firings from now.</span></a>
<a class="sourceLine" id="cb4-13" title="13">[<span class="dt">H</span>]<span class="ot">   count ::</span> <span class="dt">Num</span> b <span class="ot">=&gt;</span> <span class="dt">Event</span> a <span class="ot">-&gt;</span> m (<span class="dt">Dynamic</span> b)</a>
<a class="sourceLine" id="cb4-14" title="14"><span class="co">-- Initial Bool value is supplied; toggles at each Event firing.</span></a>
<a class="sourceLine" id="cb4-15" title="15">[<span class="dt">H</span>]<span class="ot">   toggle ::</span> <span class="dt">Bool</span> <span class="ot">-&gt;</span> <span class="dt">Event</span> a <span class="ot">-&gt;</span> m (<span class="dt">Dynamic</span> <span class="dt">Bool</span>)</a>
<a class="sourceLine" id="cb4-16" title="16"></a>
<a class="sourceLine" id="cb4-17" title="17"><span class="co">-- Transform Dynamic to Dynamic using function</span></a>
<a class="sourceLine" id="cb4-18" title="18">[ ]<span class="ot">   ffor         ::</span>   <span class="dt">Dynamic</span> a <span class="ot">-&gt;</span>  (a <span class="ot">-&gt;</span> b) <span class="ot">-&gt;</span> <span class="dt">Dynamic</span> b</a>
<a class="sourceLine" id="cb4-19" title="19">[ ]<span class="ot">   fmap         ::</span> (a <span class="ot">-&gt;</span>    b) <span class="ot">-&gt;</span> <span class="dt">Dynamic</span> a <span class="ot">-&gt;</span> <span class="dt">Dynamic</span> b</a>
<a class="sourceLine" id="cb4-20" title="20">[ ]<span class="ot">   splitDynPure ::</span>           <span class="dt">Dynamic</span> (a, b) <span class="ot">-&gt;</span> (<span class="dt">Dynamic</span> a, <span class="dt">Dynamic</span> b)</a>
<a class="sourceLine" id="cb4-21" title="21"></a>
<a class="sourceLine" id="cb4-22" title="22"><span class="co">-- Combine multiple Dynamics</span></a>
<a class="sourceLine" id="cb4-23" title="23">[ ]<span class="ot">   mconcat                   ::</span> <span class="dt">Monoid</span> a <span class="ot">=&gt;</span> [<span class="dt">Dynamic</span> a] <span class="ot">-&gt;</span> <span class="dt">Dynamic</span> a</a>
<a class="sourceLine" id="cb4-24" title="24">[ ]<span class="ot">   distributeDMapOverDynPure ::</span> <span class="dt">GCompare</span> k <span class="ot">=&gt;</span> <span class="dt">DMap</span> (<span class="dt">WrapArg</span> <span class="dt">Dynamic</span> k) <span class="ot">-&gt;</span> <span class="dt">Dynamic</span> (<span class="dt">DMap</span> k)</a>
<a class="sourceLine" id="cb4-25" title="25">[ ]   <span class="op">&lt;*&gt;</span><span class="ot">                       ::</span>           <span class="dt">Dynamic</span> (a <span class="ot">-&gt;</span> b) <span class="ot">-&gt;</span>        <span class="dt">Dynamic</span> a <span class="ot">-&gt;</span> <span class="dt">Dynamic</span> b</a>
<a class="sourceLine" id="cb4-26" title="26">[ ]   <span class="op">&gt;&gt;=</span><span class="ot">                       ::</span>                  <span class="dt">Dynamic</span> a <span class="ot">-&gt;</span> (a <span class="ot">-&gt;</span> <span class="dt">Dynamic</span> b) <span class="ot">-&gt;</span> <span class="dt">Dynamic</span> b</a>
<a class="sourceLine" id="cb4-27" title="27">[ ]<span class="ot">   zipDynWith                ::</span> (a <span class="ot">-&gt;</span> b <span class="ot">-&gt;</span> c) <span class="ot">-&gt;</span> <span class="dt">Dynamic</span> a <span class="ot">-&gt;</span> <span class="dt">Dynamic</span> b        <span class="ot">-&gt;</span> <span class="dt">Dynamic</span> c</a>
<a class="sourceLine" id="cb4-28" title="28"></a>
<a class="sourceLine" id="cb4-29" title="29"><span class="co">-- Combine multiple dynamics via applicative instance</span></a>
<a class="sourceLine" id="cb4-30" title="30">[ ]<span class="ot">   ffor2 ::</span> <span class="dt">Dynamic</span> a <span class="ot">-&gt;</span> <span class="dt">Dynamic</span> b <span class="ot">-&gt;</span>              (a <span class="ot">-&gt;</span> b <span class="ot">-&gt;</span> c)      <span class="ot">-&gt;</span> <span class="dt">Dynamic</span> c</a>
<a class="sourceLine" id="cb4-31" title="31">[ ]<span class="ot">   ffor3 ::</span> <span class="dt">Dynamic</span> a <span class="ot">-&gt;</span> <span class="dt">Dynamic</span> b <span class="ot">-&gt;</span> <span class="dt">Dynamic</span> c <span class="ot">-&gt;</span> (a <span class="ot">-&gt;</span> b <span class="ot">-&gt;</span> c <span class="ot">-&gt;</span> d) <span class="ot">-&gt;</span> <span class="dt">Dynamic</span> d</a>
<a class="sourceLine" id="cb4-32" title="32"></a>
<a class="sourceLine" id="cb4-33" title="33"><span class="co">-- Efficient one-to-many fanout</span></a>
<a class="sourceLine" id="cb4-34" title="34">[ ]<span class="ot">   demux   ::</span> <span class="dt">Ord</span> k <span class="ot">=&gt;</span> <span class="dt">Dynamic</span> k <span class="ot">-&gt;</span> <span class="dt">Demux</span> k</a>
<a class="sourceLine" id="cb4-35" title="35">[ ]<span class="ot">   demuxed ::</span> <span class="dt">Eq</span> k  <span class="ot">=&gt;</span>              <span class="dt">Demux</span> k <span class="ot">-&gt;</span> k <span class="ot">-&gt;</span> <span class="dt">Dynamic</span> <span class="dt">Bool</span></a>
<a class="sourceLine" id="cb4-36" title="36"></a>
<a class="sourceLine" id="cb4-37" title="37"><span class="co">-- Dynamic to Dynamic, removing updates w/o value change</span></a>
<a class="sourceLine" id="cb4-38" title="38">[<span class="dt">H</span>]<span class="ot">   holdUniqDyn   ::</span> <span class="dt">Eq</span> a <span class="ot">=&gt;</span> <span class="dt">Dynamic</span> a <span class="ot">-&gt;</span> m (<span class="dt">Dynamic</span> a)</a>
<a class="sourceLine" id="cb4-39" title="39">[<span class="dt">H</span>]<span class="ot">   holdUniqDynBy ::</span> (a <span class="ot">-&gt;</span> a <span class="ot">-&gt;</span> <span class="dt">Bool</span>) <span class="ot">-&gt;</span> <span class="dt">Dynamic</span> t a <span class="ot">-&gt;</span> m (<span class="dt">Dynamic</span> t a)</a>
<a class="sourceLine" id="cb4-40" title="40"></a>
<a class="sourceLine" id="cb4-41" title="41"><span class="co">-- Dynamic to identical Dynamic with debug trace.  (Only prints if Dynamic is ultimately used.)</span></a>
<a class="sourceLine" id="cb4-42" title="42">[ ]<span class="ot">   traceDyn     ::</span> <span class="dt">Show</span> a <span class="ot">=&gt;</span> <span class="dt">String</span> <span class="ot">-&gt;</span> <span class="dt">Dynamic</span> a <span class="ot">-&gt;</span> <span class="dt">Dynamic</span> a</a>
<a class="sourceLine" id="cb4-43" title="43">[ ]<span class="ot">   traceDynWith ::</span>    (a <span class="ot">-&gt;</span> <span class="dt">String</span>) <span class="ot">-&gt;</span> <span class="dt">Dynamic</span> a <span class="ot">-&gt;</span> <span class="dt">Dynamic</span> a</a></code></pre></div>
<h2 id="flattening-functions">Flattening functions</h2>
<p>These functions flatten nested types such as Event-of-Event, Behavior-of-Event, Event-of-Behavior etc, removing the outer wrapper.</p>
<p>For Events, the returned Event fires whenever the latest Event supplied by the wrapper fires. There are differences in how the functions handle <em>coincidences</em> -- situations where the old or new Event fires at the same instant that we switch from old to new. In some cases, the output Event tracks the old Event at the instant of switchover, while in other cases it tracks the new Event.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb5-1" title="1"><span class="co">-- Flatten Behavior-of-Event to Event.  Old Event is used during switchover.</span></a>
<a class="sourceLine" id="cb5-2" title="2">[ ]<span class="ot">   switch            ::</span>                  <span class="dt">Behavior</span> (<span class="dt">Event</span> a)  <span class="ot">-&gt;</span>    <span class="dt">Event</span> a</a>
<a class="sourceLine" id="cb5-3" title="3"></a>
<a class="sourceLine" id="cb5-4" title="4"><span class="co">-- Flatten Dynamic-of-Event to Event.  New Event is used immediately.</span></a>
<a class="sourceLine" id="cb5-5" title="5">[ ]<span class="ot">   switchDyn         ::</span>                   <span class="dt">Dynamic</span> (<span class="dt">Event</span> a)  <span class="ot">-&gt;</span>    <span class="dt">Event</span> a</a>
<a class="sourceLine" id="cb5-6" title="6"></a>
<a class="sourceLine" id="cb5-7" title="7"><span class="co">-- Flatten Event-of-Event to Event that fires when both wrapper AND new Event fire.</span></a>
<a class="sourceLine" id="cb5-8" title="8">[ ]<span class="ot">   coincidence       ::</span>                     <span class="dt">Event</span> (<span class="dt">Event</span> a)  <span class="ot">-&gt;</span>    <span class="dt">Event</span> a</a>
<a class="sourceLine" id="cb5-9" title="9"></a>
<a class="sourceLine" id="cb5-10" title="10"><span class="co">-- Flatten Behavior-of-Behavior to Behavior. Behavior is an instance of Monad,</span></a>
<a class="sourceLine" id="cb5-11" title="11"><span class="co">-- so the &#39;join&#39; function from &#39;Control.Monad&#39; suffices. The output of &#39;join&#39; is</span></a>
<a class="sourceLine" id="cb5-12" title="12"><span class="co">-- a Behavior whose value is equal to the current value of the current value of</span></a>
<a class="sourceLine" id="cb5-13" title="13"><span class="co">-- the input.</span></a>
<a class="sourceLine" id="cb5-14" title="14">[ ]<span class="ot">   join              ::</span>                <span class="dt">Behavior</span> (<span class="dt">Behavior</span> a) <span class="ot">-&gt;</span>    <span class="dt">Behavior</span> a</a>
<a class="sourceLine" id="cb5-15" title="15"></a>
<a class="sourceLine" id="cb5-16" title="16"></a>
<a class="sourceLine" id="cb5-17" title="17"><span class="co">-- Flatten Dynamic-of-Dynamic to Dynamic.  New Dynamic is used immediately.</span></a>
<a class="sourceLine" id="cb5-18" title="18"><span class="co">-- Output updated whenever inner OR outer Dynamic updates.</span></a>
<a class="sourceLine" id="cb5-19" title="19">[ ]<span class="ot">   join              ::</span>          <span class="dt">Dynamic</span>        (<span class="dt">Dynamic</span> a)  <span class="ot">-&gt;</span>  <span class="dt">Dynamic</span> a</a>
<a class="sourceLine" id="cb5-20" title="20">[ ]<span class="ot">   joinDynThroughMap ::</span> <span class="dt">Ord</span> k <span class="ot">=&gt;</span> <span class="dt">Dynamic</span> (<span class="dt">Map</span> k (<span class="dt">Dynamic</span> a)) <span class="ot">-&gt;</span>  <span class="dt">Dynamic</span> (<span class="dt">Map</span> k a)</a>
<a class="sourceLine" id="cb5-21" title="21"></a>
<a class="sourceLine" id="cb5-22" title="22"><span class="co">-- Analogous to &#39;hold&#39;:  Create a Behavior that is initially identical to the</span></a>
<a class="sourceLine" id="cb5-23" title="23"><span class="co">-- supplied Behavior.  Updated to track a new Behavior whenever the Event fires.</span></a>
<a class="sourceLine" id="cb5-24" title="24">[<span class="dt">H</span>]<span class="ot">   switcher          ::</span>    <span class="dt">Behavior</span> a <span class="ot">-&gt;</span> <span class="dt">Event</span> (<span class="dt">Behavior</span> a)  <span class="ot">-&gt;</span> m (<span class="dt">Behavior</span> a)</a>
<a class="sourceLine" id="cb5-25" title="25"></a>
<a class="sourceLine" id="cb5-26" title="26"><span class="co">-- Similar to above, for Events.  Created Event initially tracks the first argument.</span></a>
<a class="sourceLine" id="cb5-27" title="27"><span class="co">-- At switchover, the output Event immediately tracks the new Event.</span></a>
<a class="sourceLine" id="cb5-28" title="28">[<span class="dt">H</span>]<span class="ot">   switchHold        ::</span>       <span class="dt">Event</span> a <span class="ot">-&gt;</span>    <span class="dt">Event</span> (<span class="dt">Event</span> a)  <span class="ot">-&gt;</span> m (<span class="dt">Event</span> a)</a></code></pre></div>
<h2 id="typeclasses-to-introspect-and-modify-an-frp-network">Typeclasses to introspect and modify an FRP network.</h2>
<p>The functions mentioned above are used to create a static FRP network. There are additional typeclasses that can be used to modify the FRP network, to have it interact with IO action, or to introspect the building of the network.</p>
<p>Th typeclasses and their associated annotations include:</p>
<ul>
<li><p><code>PostBuild</code> Fire an Event when an FRP network has been set up.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb6-1" title="1">[<span class="dt">B</span>]   <span class="co">-- Function runs in any monad supporting PostBuild</span></a></code></pre></div></li>
<li><p><code>Adjustable</code> Use Events to add or remove pieces of an FRP network.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb7-1" title="1">[<span class="dt">A</span>]   <span class="co">-- Function runs in any monad supporting Adjustable</span></a></code></pre></div></li>
<li><p><code>TriggerEvent</code> Create new externally-fired Events from within an FRP network.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb8-1" title="1">[<span class="dt">T</span>]   <span class="co">-- Function runs in any monad supporting TriggerEvent</span></a></code></pre></div></li>
<li><p><code>PerformEvent</code> Use Events to trigger IO actions and to collect their results.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb9-1" title="1">[<span class="dt">P</span>]   <span class="co">-- Function runs in any monad supporting PerformEvent</span></a></code></pre></div></li>
</ul>
<h2 id="startup">Startup</h2>
<div class="sourceCode" id="cb10"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb10-1" title="1"><span class="co">-- One-shot Event that is triggered once the FRP network has been built</span></a>
<a class="sourceLine" id="cb10-2" title="2">[<span class="dt">B</span>]<span class="ot">   getPostBuild ::</span> m (<span class="dt">Event</span> ())</a></code></pre></div>
<h2 id="collection-management-functions">Collection management functions</h2>
<div class="sourceCode" id="cb11"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb11-1" title="1"><span class="co">-- Turn a Dynamic key/value map into a set of dynamically-changing widgets.</span></a>
<a class="sourceLine" id="cb11-2" title="2">[<span class="dt">H</span>,<span class="dt">A</span>,<span class="dt">B</span>]<span class="ot">   listWithKey ::</span> <span class="dt">Ord</span> k <span class="ot">=&gt;</span></a>
<a class="sourceLine" id="cb11-3" title="3">            <span class="dt">Dynamic</span> (<span class="dt">Map</span> k v) <span class="ot">-&gt;</span> (k <span class="ot">-&gt;</span> <span class="dt">Dynamic</span> v <span class="ot">-&gt;</span> m        a ) <span class="ot">-&gt;</span> m (<span class="dt">Dynamic</span> (<span class="dt">Map</span> k a))</a>
<a class="sourceLine" id="cb11-4" title="4"></a>
<a class="sourceLine" id="cb11-5" title="5"><span class="co">-- Same as above where the widget constructor doesn&#39;t care about the key.</span></a>
<a class="sourceLine" id="cb11-6" title="6">[<span class="dt">H</span>,<span class="dt">A</span>,<span class="dt">B</span>]<span class="ot">   list        ::</span> <span class="dt">Ord</span> k <span class="ot">=&gt;</span></a>
<a class="sourceLine" id="cb11-7" title="7">            <span class="dt">Dynamic</span> (<span class="dt">Map</span> k v) <span class="ot">-&gt;</span> (     <span class="dt">Dynamic</span> v <span class="ot">-&gt;</span> m        a ) <span class="ot">-&gt;</span> m (<span class="dt">Dynamic</span> (<span class="dt">Map</span> k a))</a>
<a class="sourceLine" id="cb11-8" title="8"></a>
<a class="sourceLine" id="cb11-9" title="9"><span class="co">-- Even simpler version where there are no keys and we just use a list.</span></a>
<a class="sourceLine" id="cb11-10" title="10">[<span class="dt">H</span>,<span class="dt">A</span>,<span class="dt">B</span>]<span class="ot">   simpleList  ::</span></a>
<a class="sourceLine" id="cb11-11" title="11">            <span class="dt">Dynamic</span>       [v] <span class="ot">-&gt;</span> (     <span class="dt">Dynamic</span> v <span class="ot">-&gt;</span> m        a ) <span class="ot">-&gt;</span> m (<span class="dt">Dynamic</span>       [a])</a>
<a class="sourceLine" id="cb11-12" title="12"></a>
<a class="sourceLine" id="cb11-13" title="13"><span class="co">-- Like listWithKey specialized for widgets returning (Event a).</span></a>
<a class="sourceLine" id="cb11-14" title="14">[<span class="dt">H</span>,<span class="dt">A</span>,<span class="dt">B</span>]<span class="ot">   listViewWithKey ::</span> <span class="dt">Ord</span> k <span class="ot">=&gt;</span></a>
<a class="sourceLine" id="cb11-15" title="15">            <span class="dt">Dynamic</span> (<span class="dt">Map</span> k v) <span class="ot">-&gt;</span> (k <span class="ot">-&gt;</span> <span class="dt">Dynamic</span> v <span class="ot">-&gt;</span> m (<span class="dt">Event</span> a)) <span class="ot">-&gt;</span> m (<span class="dt">Event</span>   (<span class="dt">Map</span> k a))</a>
<a class="sourceLine" id="cb11-16" title="16"></a>
<a class="sourceLine" id="cb11-17" title="17"><span class="co">-- Create a dynamically-changing set of widgets, one of which is selected at any time.</span></a>
<a class="sourceLine" id="cb11-18" title="18">[<span class="dt">H</span>,<span class="dt">A</span>,<span class="dt">B</span>]<span class="ot">   selectViewListWithKey_ ::</span> <span class="dt">Ord</span> k <span class="ot">=&gt;</span> <span class="dt">Dynamic</span> k <span class="ot">-&gt;</span></a>
<a class="sourceLine" id="cb11-19" title="19">            <span class="dt">Dynamic</span> (<span class="dt">Map</span> k v) <span class="ot">-&gt;</span> (k <span class="ot">-&gt;</span> <span class="dt">Dynamic</span> v <span class="ot">-&gt;</span> <span class="dt">Dynamic</span> <span class="dt">Bool</span> <span class="ot">-&gt;</span> m (<span class="dt">Event</span> a)) <span class="ot">-&gt;</span> m (<span class="dt">Event</span> k)</a>
<a class="sourceLine" id="cb11-20" title="20"></a>
<a class="sourceLine" id="cb11-21" title="21"><span class="co">-- Same as listWithKey, but takes initial values and an updates Event instead of a Dynamic.</span></a>
<a class="sourceLine" id="cb11-22" title="22">[<span class="dt">H</span>,<span class="dt">A</span>]<span class="ot">     listWithKeyShallowDiff ::</span> <span class="dt">Ord</span> k <span class="ot">=&gt;</span></a>
<a class="sourceLine" id="cb11-23" title="23">            <span class="dt">Map</span> k v <span class="ot">-&gt;</span> <span class="dt">Event</span> (<span class="dt">Map</span> k (<span class="dt">Maybe</span> v)) <span class="ot">-&gt;</span> (k <span class="ot">-&gt;</span> v <span class="ot">-&gt;</span> <span class="dt">Event</span> v <span class="ot">-&gt;</span> m a) <span class="ot">-&gt;</span> m (<span class="dt">Dynamic</span> (<span class="dt">Map</span> k a))</a></code></pre></div>
<h2 id="creating-new-events-from-within-an-frp-network">Creating new events from within an FRP network.</h2>
<div class="sourceCode" id="cb12"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb12-1" title="1"><span class="co">-- Create a new Event and a function that will cause the Event to fire, from within an FRP network</span></a>
<a class="sourceLine" id="cb12-2" title="2">[<span class="dt">T</span>]<span class="ot">   newTriggerEvent      ::</span> m (<span class="dt">Event</span> a, a <span class="ot">-&gt;</span> <span class="dt">IO</span> ())</a></code></pre></div>
<h2 id="connecting-to-the-real-world-io">Connecting to the real world (I/O)</h2>
<div class="sourceCode" id="cb13"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb13-1" title="1"><span class="co">-- Run side-effecting actions in Event when it occurs; returned Event contains</span></a>
<a class="sourceLine" id="cb13-2" title="2"><span class="co">-- results. Side effects run in the (Performable m) monad which is associated with</span></a>
<a class="sourceLine" id="cb13-3" title="3"><span class="co">-- the (PerformEvent t m) typeclass constraint.</span></a>
<a class="sourceLine" id="cb13-4" title="4"><span class="co">-- This allows for working with IO when a ((MonadIO (Performable m)) constraint is available.</span></a>
<a class="sourceLine" id="cb13-5" title="5">[<span class="dt">P</span>]<span class="ot">   performEvent        ::</span> <span class="dt">Event</span> (<span class="dt">Performable</span> m a )                 <span class="ot">-&gt;</span> m (<span class="dt">Event</span> a)</a>
<a class="sourceLine" id="cb13-6" title="6"></a>
<a class="sourceLine" id="cb13-7" title="7"><span class="co">-- Just run side-effects; no return Event</span></a>
<a class="sourceLine" id="cb13-8" title="8">[<span class="dt">P</span>]<span class="ot">   performEvent_       ::</span> <span class="dt">Event</span> (<span class="dt">Performable</span> m ())                 <span class="ot">-&gt;</span> m ()</a>
<a class="sourceLine" id="cb13-9" title="9"></a>
<a class="sourceLine" id="cb13-10" title="10"><span class="co">-- Actions run asynchronously; actions are given a callback to send return values</span></a>
<a class="sourceLine" id="cb13-11" title="11">[<span class="dt">P</span>,<span class="dt">T</span>]<span class="ot">   performEventAsync ::</span> <span class="dt">Event</span> ((a <span class="ot">-&gt;</span> <span class="dt">IO</span> ()) <span class="ot">-&gt;</span> <span class="dt">Performable</span> m ()) <span class="ot">-&gt;</span> m (<span class="dt">Event</span> a)</a></code></pre></div>
<h3 id="time">Time</h3>
<div class="sourceCode" id="cb14"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb14-1" title="1"><span class="co">-- Create Event at given interval with given basis time.</span></a>
<a class="sourceLine" id="cb14-2" title="2">[<span class="dt">P</span>,<span class="dt">T</span>]<span class="ot">   tickLossy ::</span> <span class="dt">NominalDiffTime</span> <span class="ot">-&gt;</span> <span class="dt">UTCTime</span> <span class="ot">-&gt;</span> m (<span class="dt">Event</span> t <span class="dt">TickInfo</span>)</a>
<a class="sourceLine" id="cb14-3" title="3"></a>
<a class="sourceLine" id="cb14-4" title="4"><span class="co">-- Delay an Event&#39;s occurrences by a given amount in seconds.</span></a>
<a class="sourceLine" id="cb14-5" title="5">[<span class="dt">P</span>,<span class="dt">T</span>]<span class="ot">   delay ::</span> <span class="dt">NominalDiffTime</span> <span class="ot">-&gt;</span> <span class="dt">Event</span> t a <span class="ot">-&gt;</span> m (<span class="dt">Event</span> t a)</a></code></pre></div>
<h2 id="networks">Networks</h2>
<div class="sourceCode" id="cb15"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb15-1" title="1"><span class="co">-- Functions from Reflex.Network used to deal with Dynamics/Events carrying (m a)</span></a>
<a class="sourceLine" id="cb15-2" title="2"></a>
<a class="sourceLine" id="cb15-3" title="3"><span class="co">-- Given a Dynamic of network-creating actions, create a network that is recreated whenever the Dynamic updates.</span></a>
<a class="sourceLine" id="cb15-4" title="4"><span class="co">-- The returned Event of network results occurs when the Dynamic does. Note: Often, the type a is an Event,</span></a>
<a class="sourceLine" id="cb15-5" title="5"><span class="co">-- in which case the return value is an Event-of-Events that would typically be flattened (via switchHold).</span></a>
<a class="sourceLine" id="cb15-6" title="6">[<span class="dt">P</span>,<span class="dt">A</span>]<span class="ot">   networkView ::</span> <span class="dt">Dynamic</span> (m a) <span class="ot">-&gt;</span> m (<span class="dt">Event</span> a)</a>
<a class="sourceLine" id="cb15-7" title="7"></a>
<a class="sourceLine" id="cb15-8" title="8"><span class="co">-- Given an initial network and an Event of network-creating actions, create a network that is recreated whenever the</span></a>
<a class="sourceLine" id="cb15-9" title="9"><span class="co">-- Event fires. The returned Dynamic of network results occurs when the Event does. Note: Often, the type a is an</span></a>
<a class="sourceLine" id="cb15-10" title="10"><span class="co">-- Event, in which case the return value is a Dynamic-of-Events that would typically be flattened.</span></a>
<a class="sourceLine" id="cb15-11" title="11">[<span class="dt">H</span>,<span class="dt">A</span>]<span class="ot">   networkHold ::</span> m a <span class="ot">-&gt;</span> <span class="dt">Event</span> (m a) <span class="ot">-&gt;</span> m (<span class="dt">Dynamic</span> a)</a>
<a class="sourceLine" id="cb15-12" title="12"></a>
<a class="sourceLine" id="cb15-13" title="13"><span class="co">-- Render a placeholder network to be shown while another network is not yet done building</span></a>
<a class="sourceLine" id="cb15-14" title="14">[<span class="dt">P</span>,<span class="dt">A</span>]<span class="ot">   untilReady ::</span> m a <span class="ot">-&gt;</span> m b <span class="ot">-&gt;</span> m (a, <span class="dt">Event</span> b)</a></code></pre></div>
</body>
</html>
